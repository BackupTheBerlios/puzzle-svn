<?xml version="1.0" encoding="utf-8" ?>
<domain name="NUnitTests" root="Puzzle.NPersist.Tests.Main" assembly="Puzzle.NPersist.Tests.Main" source="NUnitTests" target-languages="vb">
  <class name="Book" table="tblBook">
    <property name="Id" id="true" columns="BookId" type="Long" />
    <property name="Name" columns="Name" type="System.String" />
    <property name="Cover" columns="Cover_CoverId" ref="OneToMany" cascade-create="true" cascade-delete="true" type="Cover" />
    <property name="BookInfo" table="tblBookInfo" columns="BookInfoId" id-columns="Book_BookId" read-only="true" ref="OneToOne" inverse="Book" inherits-inverse="true" cascade-create="true" cascade-delete="true" type="BookInfo" />
  </class>
  <class name="BookInfo" table="tblBookInfo">
    <property name="Id" id="true" columns="BookInfoId" type="Long" />
    <property name="ISBN" columns="ISBN" type="System.String" />
    <property name="Book" columns="Book_BookId" ref="OneToOne" type="Book" />
  </class>
  <class name="ClsTblEmployee" table="tblClsTblPerson" type-column="ClsTblPersonType" type-value="E" inherits="ClsTblPerson" inheritance="ClassTableInheritance">
    <property name="Salary" table="tblClsTblEmployee" columns="Salary" id-columns="ClsTblPersonId, ClsTblPersonType" type="System.Decimal" />
    <property name="EmploymentDate" table="tblClsTblEmployee" columns="EmploymentDate" id-columns="ClsTblPersonId, ClsTblPersonType" type="System.DateTime" />
    <property name="WorkFolders" table="tblClsTblWorkFolder" id-columns="Employee_ClsTblPersonId, Employee_ClsTblPersonType" list="true" item-type="ClsTblWorkFolder" read-only="true" ref="ManyToOne" inverse="Employee" inherits-inverse="true" default="new System.Collections.ArrayList()" />
  </class>
  <class name="ClsTblFolder" table="tblClsTblFolder" type-column="ClsTblFolderType" type-value="F" inheritance="ClassTableInheritance">
    <property name="Id" id="true" columns="ClsTblFolderId" type="Long" />
    <property name="Name" columns="Name" type="System.String" />
    <property name="Person" columns="Person_ClsTblPersonId, Person_ClsTblPersonType" ref="OneToMany" type="ClsTblPerson" />
  </class>
  <class name="ClsTblPerson" table="tblClsTblPerson" type-column="ClsTblPersonType" type-value="P" inheritance="ClassTableInheritance">
    <property name="Id" id="true" columns="ClsTblPersonId" type="Long" />
    <property name="FirstName" columns="FirstName" type="System.String" />
    <property name="LastName" columns="LastName" type="System.String" />
    <property name="Folders" table="tblClsTblFolder" id-columns="Person_ClsTblPersonId, Person_ClsTblPersonType" list="true" item-type="ClsTblFolder" read-only="true" ref="ManyToOne" inverse="Person" inherits-inverse="true" default="new System.Collections.ArrayList()" />
  </class>
  <class name="ClsTblWorkFolder" table="tblClsTblFolder" type-column="ClsTblFolderType" type-value="W" inherits="ClsTblFolder" inheritance="ClassTableInheritance">
    <property name="Employee" table="tblClsTblWorkFolder" columns="Employee_ClsTblPersonId, Employee_ClsTblPersonType" id-columns="ClsTblFolderId, ClsTblFolderType" ref="OneToMany" type="ClsTblEmployee" />
    <property name="WorkType" table="tblClsTblWorkFolder" columns="WorkType" id-columns="ClsTblFolderId, ClsTblFolderType" type="System.String" />
  </class>
  <class name="CncTblEmployee" table="tblCncTblPerson" type-column="CncTblPersonType" type-value="E" inherits="CncTblPerson" inheritance="ConcreteTableInheritance">
    <property name="EmploymentDate" table="tblCncTblEmployee" columns="EmploymentDate" id-columns="CncTblPersonId, CncTblPersonType" type="System.DateTime" />
    <property name="Salary" table="tblCncTblEmployee" columns="Salary" id-columns="CncTblPersonId, CncTblPersonType" type="System.Decimal" />
    <property name="FirstName" table="tblCncTblEmployee" columns="FirstName" id-columns="CncTblPersonId, CncTblPersonType" type="System.String" />
    <property name="LastName" table="tblCncTblEmployee" columns="LastName" id-columns="CncTblPersonId, CncTblPersonType" type="System.String" />
    <property name="WorkFolders" table="tblCncTblWorkFolder" id-columns="Employee_CncTblPersonId, Employee_CncTblPersonType" list="true" item-type="CncTblWorkFolder" read-only="true" ref="ManyToOne" inverse="Employee" inherits-inverse="true" default="new System.Collections.ArrayList()" />
  </class>
  <class name="CncTblFolder" table="tblCncTblFolder" type-column="CncTblFolderType" type-value="F" inheritance="ConcreteTableInheritance">
    <property name="Id" id="true" columns="CncTblFolderId" type="System.Int32" />
    <property name="Name" columns="Name" type="System.String" />
    <property name="Person" columns="Person_CncTblPersonId, Person_CncTblPersonType" ref="OneToMany" type="CncTblPerson" />
  </class>
  <class name="CncTblPerson" table="tblCncTblPerson" type-column="CncTblPersonType" type-value="P" inheritance="ConcreteTableInheritance">
    <property name="Id" id="true" columns="CncTblPersonId" type="System.Int32" />
    <property name="FirstName" columns="FirstName" type="System.String" />
    <property name="LastName" columns="LastName" type="System.String" />
    <property name="Folders" table="tblCncTblFolder" id-columns="Person_CncTblPersonId, Person_CncTblPersonType" list="true" item-type="CncTblFolder" read-only="true" ref="ManyToOne" inverse="Person" inherits-inverse="true" default="new System.Collections.ArrayList()" />
  </class>
  <class name="CncTblWorkFolder" table="tblCncTblFolder" type-column="CncTblFolderType" type-value="W" inherits="CncTblFolder" inheritance="ConcreteTableInheritance">
    <property name="Name" table="tblCncTblWorkFolder" columns="Name" id-columns="CncTblFolderId, CncTblFolderType" type="System.String" />
    <property name="Person" table="tblCncTblWorkFolder" columns="Person_CncTblPersonId, Person_CncTblPersonType" id-columns="CncTblFolderId, CncTblFolderType" ref="OneToMany" type="CncTblPerson" />
    <property name="WorkType" table="tblCncTblWorkFolder" columns="WorkType" id-columns="CncTblFolderId, CncTblFolderType" type="System.String" />
    <property name="Employee" table="tblCncTblWorkFolder" columns="Employee_CncTblPersonId, Employee_CncTblPersonType" id-columns="CncTblFolderId, CncTblFolderType" ref="OneToMany" type="CncTblEmployee" />
  </class>
  <class name="Cover" table="tblCover">
    <property name="Id" id="true" columns="CoverId" type="Long" />
    <property name="Color" columns="Color" type="System.String" />
  </class>
  <class name="FolderID" table="FolderID">
    <property name="ApCode" id="true" id-index="0" columns="Ap_Code" type="System.String" />
    <property name="FuncCode" id="true" id-index="1" columns="Func_Code" type="System.String" />
    <property name="FolderDescript" columns="FolderDescript" type="System.String" />
    <property name="ID" columns="FolderID" type="System.Int32" />
  </class>
  <class name="Section" table="tblSections" implements="MatsSoft.NPersist.Framework.Interfaces.IValidatable, MatsSoft.NPersist.Framework.Interfaces.IObservable">
    <property name="ID" id="true" columns="ID" type="System.Int32" />
    <property name="Descr" columns="Descr" type="System.String" />
    <property name="Parent" columns="ParentID" ref="OneToMany" inverse="Children" type="Section" />
    <property name="Children" table="tblSections" id-columns="ParentID" list="true" item-type="Section" read-only="true" ref="ManyToOne" inverse="Parent" inherits-inverse="true" default="new System.Collections.ArrayList()" />
  </class>
  <class name="SngTblEmployee" table="tblSngTblPerson" type-column="SngTblPersonType" type-value="E" inherits="SngTblPerson" inheritance="SingleTableInheritance">
    <property name="Salary" columns="Salary" type="System.Decimal" />
    <property name="EmploymentDate" columns="EmploymentDate" type="System.DateTime" />
    <property name="WorkFolders" table="tblSngTblFolder" id-columns="Employee_SngTblPersonId, Employee_SngTblPersonType" list="true" item-type="SngTblWorkFolder" read-only="true" ref="ManyToOne" inverse="Employee" inherits-inverse="true" default="new System.Collections.ArrayList()" />
  </class>
  <class name="SngTblFolder" table="tblSngTblFolder" type-column="SngTblFolderType" type-value="F" inheritance="SingleTableInheritance">
    <property name="Id" id="true" columns="SngTblFolderId" type="System.Int32" />
    <property name="Name" columns="Name" type="System.String" />
    <property name="Person" columns="Person_SngTblPersonId, Person_SngTblPersonType" ref="OneToMany" type="SngTblPerson" />
  </class>
  <class name="SngTblPerson" table="tblSngTblPerson" type-column="SngTblPersonType" type-value="P" inheritance="SingleTableInheritance">
    <property name="Id" id="true" columns="SngTblPersonId" type="System.Int32" />
    <property name="FirstName" columns="FirstName" type="System.String" />
    <property name="LastName" columns="LastName" type="System.String" />
    <property name="Folders" table="tblSngTblFolder" id-columns="Person_SngTblPersonId, Person_SngTblPersonType" list="true" item-type="SngTblFolder" read-only="true" ref="ManyToOne" inverse="Person" inherits-inverse="true" default="new System.Collections.ArrayList()" />
  </class>
  <class name="SngTblWorkFolder" table="tblSngTblFolder" type-column="SngTblFolderType" type-value="W" inherits="SngTblFolder" inheritance="SingleTableInheritance">
    <property name="Employee" columns="Employee_SngTblPersonId, Employee_SngTblPersonType" ref="OneToMany" type="SngTblEmployee" />
    <property name="WorkType" columns="WorkType" type="System.String" />
  </class>
  <class name="User" table="tblUser">
    <property name="Id" id="true" columns="UserID" type="System.String" />
    <property name="LastLogon" columns="LastLogon" type="System.DateTime" />
    <property name="FirstName" table="tblProfile" columns="FirstName" id-columns="UserID" type="System.String" />
    <property name="LastName" table="tblProfile" columns="LastName" id-columns="UserID" type="System.String" />
    <property name="Section" table="tblProfile" columns="SectionID" id-columns="UserID" ref="OneToMany" type="Section" />
    <property name="DateOfBirth" table="tblProfile" columns="DOB" id-columns="UserID" type="System.String" />
  </class>
  <source name="NUnitTests" type="MSSqlServer" provider="SqlClient" schema="dbo">
    <connection-string>SERVER=(local);UID=sa;PWD=;DATABASE=NPersistNUnitTests;</connection-string>
    <table name="FolderID">
      <column name="Ap_Code" primary="true" type="String" prec="50" length="100" scale="0" />
      <column name="FolderDescript" type="String" prec="0" length="16" scale="0" specific-type="True" />
      <column name="FolderID" type="Int32" prec="10" length="4" scale="0" specific-type="True" />
      <column name="Func_Code" primary="true" type="String" prec="50" length="100" scale="0" />
    </table>
    <table name="tblBook">
      <column name="BookId" primary="true" type="Int32" prec="10" length="4" scale="0" auto-inc="true" seed="1" inc="1" />
      <column name="Cover_CoverId" type="Int32" prec="10" length="4" scale="0" foreign="true" primary-table="tblCover" primary-column="CoverId" />
      <column name="Name" type="AnsiString" prec="255" length="255" scale="0" />
    </table>
    <table name="tblBookInfo">
      <column name="BookInfoId" primary="true" type="Int32" prec="10" length="4" scale="0" auto-inc="true" seed="1" inc="1" />
      <column name="Book_BookId" type="Int32" prec="10" length="4" scale="0" foreign="true" primary-table="tblBook" primary-column="BookId" />
      <column name="ISBN" type="AnsiString" prec="255" length="255" scale="0" />
    </table>
    <table name="tblClsTblEmployee">
      <column name="ClsTblPersonId" primary="true" type="Int32" prec="10" length="4" scale="0" foreign="true" primary-table="tblClsTblPerson" primary-column="ClsTblPersonId" />
      <column name="ClsTblPersonType" primary="true" type="AnsiStringFixedLength" prec="1" length="1" scale="0" foreign="true" primary-table="tblClsTblPerson" primary-column="ClsTblPersonType" />
      <column name="EmploymentDate" type="DateTime" prec="23" length="8" scale="3" />
      <column name="Salary" type="Decimal" prec="18" length="9" scale="0" />
    </table>
    <table name="tblClsTblFolder">
      <column name="ClsTblFolderId" primary="true" type="Int32" prec="10" length="4" scale="0" auto-inc="true" seed="1" inc="1" />
      <column name="ClsTblFolderType" primary="true" type="AnsiStringFixedLength" prec="1" length="1" scale="0" />
      <column name="Name" type="AnsiString" prec="255" length="255" scale="0" />
      <column name="Person_ClsTblPersonId" type="Int32" prec="10" length="4" scale="0" foreign="true" primary-table="tblClsTblPerson" primary-column="ClsTblPersonId" specific-type="True" />
      <column name="Person_ClsTblPersonType" type="AnsiStringFixedLength" prec="1" length="1" scale="0" foreign="true" primary-table="tblClsTblPerson" primary-column="ClsTblPersonType" specific-type="True" />
    </table>
    <table name="tblClsTblPerson">
      <column name="ClsTblPersonId" primary="true" type="Int32" prec="10" length="4" scale="0" auto-inc="true" seed="1" inc="1" />
      <column name="ClsTblPersonType" primary="true" type="AnsiStringFixedLength" prec="1" length="1" scale="0" />
      <column name="FirstName" type="AnsiString" prec="255" length="255" scale="0" />
      <column name="LastName" type="AnsiString" prec="255" length="255" scale="0" />
    </table>
    <table name="tblClsTblWorkFolder">
      <column name="ClsTblFolderId" primary="true" type="Int32" prec="10" length="4" scale="0" foreign="true" primary-table="tblClsTblFolder" primary-column="ClsTblFolderId" />
      <column name="ClsTblFolderType" primary="true" type="AnsiStringFixedLength" prec="1" length="1" scale="0" foreign="true" primary-table="tblClsTblFolder" primary-column="ClsTblFolderType" />
      <column name="Employee_ClsTblPersonId" type="Int32" prec="10" length="4" scale="0" foreign="true" primary-table="tblClsTblPerson" primary-column="ClsTblPersonId" />
      <column name="Employee_ClsTblPersonType" type="AnsiStringFixedLength" prec="1" length="1" scale="0" foreign="true" primary-table="tblClsTblPerson" primary-column="ClsTblPersonType" />
      <column name="WorkType" type="AnsiString" prec="255" length="255" scale="0" />
    </table>
    <table name="tblCncTblEmployee">
      <column name="CncTblPersonId" primary="true" type="Int32" prec="10" length="4" scale="0" foreign="true" primary-table="tblCncTblPerson" primary-column="CncTblPersonId" />
      <column name="CncTblPersonType" primary="true" type="AnsiStringFixedLength" prec="1" length="1" scale="0" foreign="true" primary-table="tblCncTblPerson" primary-column="CncTblPersonType" />
      <column name="EmploymentDate" type="DateTime" prec="23" length="8" scale="3" specific-type="True" />
      <column name="FirstName" type="AnsiString" prec="255" length="255" scale="0" specific-type="True" />
      <column name="LastName" type="AnsiString" prec="255" length="255" scale="0" specific-type="True" />
      <column name="Salary" type="Decimal" prec="18" length="9" scale="0" specific-type="True" />
    </table>
    <table name="tblCncTblFolder">
      <column name="CncTblFolderId" primary="true" type="Int32" prec="10" length="4" scale="0" auto-inc="true" seed="1" inc="1" />
      <column name="CncTblFolderType" primary="true" type="AnsiStringFixedLength" prec="1" length="1" scale="0" />
      <column name="Name" type="AnsiString" prec="255" length="255" scale="0" specific-type="True" />
      <column name="Person_CncTblPersonId" type="Int32" prec="10" length="4" scale="0" foreign="true" primary-table="tblCncTblPerson" primary-column="CncTblPersonId" foreign-key="FK_Person" specific-type="True" />
      <column name="Person_CncTblPersonType" type="AnsiStringFixedLength" prec="1" length="1" scale="0" foreign="true" primary-table="tblCncTblPerson" primary-column="CncTblPersonType" foreign-key="FK_Person" specific-type="True" />
    </table>
    <table name="tblCncTblPerson">
      <column name="CncTblPersonId" primary="true" type="Int32" prec="10" length="4" scale="0" auto-inc="true" seed="1" inc="1" />
      <column name="CncTblPersonType" primary="true" type="AnsiStringFixedLength" prec="1" length="1" scale="0" />
      <column name="FirstName" type="AnsiString" prec="255" length="255" scale="0" specific-type="True" />
      <column name="LastName" type="AnsiString" prec="255" length="255" scale="0" specific-type="True" />
    </table>
    <table name="tblCncTblWorkFolder">
      <column name="CncTblFolderId" primary="true" type="Int32" prec="10" length="4" scale="0" foreign="true" primary-table="tblCncTblFolder" primary-column="CncTblFolderId" />
      <column name="CncTblFolderType" primary="true" type="AnsiStringFixedLength" prec="1" length="1" scale="0" foreign="true" primary-table="tblCncTblFolder" primary-column="CncTblFolderType" />
      <column name="Employee_CncTblPersonId" type="Int32" prec="10" length="4" scale="0" foreign="true" primary-table="tblCncTblPerson" primary-column="CncTblPersonId" foreign-key="FK_Employee" specific-type="True" />
      <column name="Employee_CncTblPersonType" type="AnsiStringFixedLength" prec="1" length="1" scale="0" foreign="true" primary-table="tblCncTblPerson" primary-column="CncTblPersonType" foreign-key="FK_Employee" specific-type="True" />
      <column name="Name" type="AnsiString" prec="255" length="255" scale="0" specific-type="True" />
      <column name="Person_CncTblPersonId" type="Int32" prec="10" length="4" scale="0" foreign="true" primary-table="tblCncTblPerson" primary-column="CncTblPersonId" foreign-key="FK_WF_Person" specific-type="True" />
      <column name="Person_CncTblPersonType" type="AnsiStringFixedLength" prec="1" length="1" scale="0" foreign="true" primary-table="tblCncTblPerson" primary-column="CncTblPersonType" foreign-key="FK_WF_Person" specific-type="True" />
      <column name="WorkType" type="AnsiString" prec="255" length="255" scale="0" specific-type="True" />
    </table>
    <table name="tblCover">
      <column name="Color" type="AnsiString" prec="255" length="255" scale="0" />
      <column name="CoverId" primary="true" type="Int32" prec="10" length="4" scale="0" auto-inc="true" seed="1" inc="1" />
    </table>
    <table name="tblProfile">
      <column name="DOB" type="DateTime" prec="23" length="8" scale="3" specific-type="True" />
      <column name="FirstName" type="AnsiStringFixedLength" prec="10" length="10" scale="0" specific-type="True" />
      <column name="LastName" type="AnsiStringFixedLength" prec="10" length="10" scale="0" specific-type="True" />
      <column name="SectionID" type="Int32" prec="10" length="4" scale="0" foreign="true" primary-table="tblSections" primary-column="ID" foreign-key="FK_tblProfile_tblSections" specific-type="True" />
      <column name="UserID" primary="true" type="AnsiStringFixedLength" prec="10" length="10" scale="0" foreign="true" primary-table="tblUser" primary-column="UserID" foreign-key="FK_tblProfile_tblUser" />
    </table>
    <table name="tblSections">
      <column name="Descr" type="String" prec="255" length="510" scale="0" specific-type="True" />
      <column name="ID" primary="true" type="Int32" prec="10" length="4" scale="0" auto-inc="true" seed="1" inc="1" />
      <column name="ParentID" type="Int32" prec="10" length="4" scale="0" foreign="true" primary-table="tblSections" primary-column="ID" foreign-key="FK_tblSections_tblSections" specific-type="True" />
    </table>
    <table name="tblSngTblFolder">
      <column name="Employee_SngTblPersonId" type="Int32" prec="10" length="4" scale="0" foreign="true" primary-table="tblSngTblPerson" primary-column="SngTblPersonId" foreign-key="FK_tblSngTblFolder_Employee_SngTblPersonId_Employee_SngTblPersonType" specific-type="True" />
      <column name="Employee_SngTblPersonType" type="AnsiStringFixedLength" prec="1" length="1" scale="0" foreign="true" primary-table="tblSngTblPerson" primary-column="SngTblPersonType" foreign-key="FK_tblSngTblFolder_Employee_SngTblPersonId_Employee_SngTblPersonType" specific-type="True" />
      <column name="Name" type="AnsiString" prec="255" length="255" scale="0" specific-type="True" />
      <column name="Person_SngTblPersonId" type="Int32" prec="10" length="4" scale="0" foreign="true" primary-table="tblSngTblPerson" primary-column="SngTblPersonId" foreign-key="FK_tblSngTblFolder_Person_SngTblPersonId_Person_SngTblPersonType" specific-type="True" />
      <column name="Person_SngTblPersonType" type="AnsiStringFixedLength" prec="1" length="1" scale="0" foreign="true" primary-table="tblSngTblPerson" primary-column="SngTblPersonType" foreign-key="FK_tblSngTblFolder_Person_SngTblPersonId_Person_SngTblPersonType" specific-type="True" />
      <column name="SngTblFolderId" primary="true" type="Int32" prec="10" length="4" scale="0" auto-inc="true" seed="1" inc="1" />
      <column name="SngTblFolderType" primary="true" type="AnsiStringFixedLength" prec="1" length="1" scale="0" />
      <column name="WorkType" type="AnsiString" prec="255" length="255" scale="0" specific-type="True" />
    </table>
    <table name="tblSngTblPerson">
      <column name="EmploymentDate" type="DateTime" prec="23" length="8" scale="3" specific-type="True" />
      <column name="FirstName" type="AnsiString" prec="255" length="255" scale="0" specific-type="True" />
      <column name="LastName" type="AnsiString" prec="255" length="255" scale="0" specific-type="True" />
      <column name="Salary" type="Decimal" prec="18" length="9" scale="0" specific-type="True" />
      <column name="SngTblPersonId" primary="true" type="Int32" prec="10" length="4" scale="0" auto-inc="true" seed="1" inc="1" />
      <column name="SngTblPersonType" primary="true" type="AnsiStringFixedLength" prec="1" length="1" scale="0" />
    </table>
    <table name="tblUser">
      <column name="LastLogon" type="DateTime" prec="23" length="8" scale="3" specific-type="True" />
      <column name="UserID" primary="true" type="AnsiStringFixedLength" prec="10" length="10" scale="0" />
    </table>
  </source>
</domain>
